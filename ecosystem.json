{
    "apps" : [
        {
            "name": "Website",
            "script": "src/bin/www",

            "ignore_watch": ["src/public/generated"],

            "env": {
                "NODE_PATH": "./",
                "NODE_ENV": "dev"
            },
            "env_production" : {
                "NODE_PATH": "/var/www/malcovercss.link/current",
                "NODE_ENV": "production"
            }
        },
        {
            "name": "Scraper",
            "script": "src/bin/scraper",

            "ignore_watch": ["src/public/generated"],

            "env": {
                "NODE_PATH": "./",
                "NODE_ENV": "dev"
            },
            "env_production" : {
                "NODE_PATH": "/var/www/malcovercss.link/current",
                "NODE_ENV": "production"
            }
        },
        {
            "name": "Generator",
            "script": "src/bin/generator",

            "ignore_watch": ["src/public/generated"],

            "env": {
                "NODE_PATH": "./",
                "NODE_ENV": "dev"
            },
            "env_production" : {
                "NODE_PATH": "/var/www/malcovercss.link/current",
                "NODE_ENV": "production"
            }
        },
    ],

    "deploy" : {
        "production" : {
            "user"        : "ubuntu",
            "host"        : "ec2",
            "ref"         : "origin/master",
            "repo"        : "https://github.com/Trinovantes/MyAnimeList-Cover-CSS-Generator.git",
            "path"        : "/var/www/malcovercss.link",
            "post-deploy" : "npm install ; pm2 startOrRestart ecosystem.json --env production"
        }
    }
}
